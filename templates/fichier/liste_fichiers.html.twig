{% extends 'base.html.twig' %}

{% block title %}FRONT OFFICE - Liste des fichiers{% endblock %}

{% block body %}
<style>
    a:hover {text-decoration: none; color: linear-gradient(to bottom, #729EBF 0%, #333A40 100%); }
    h1, td a {color: black; }
    .table thead th {background-color: #ce352c; color: white; }
    tr, td {background-color: #e6e6e6; }  
</style>

<div class="container">
    <h1>Liste des fichiers</h1>

    <table class="table  text-center mx-auto m-5">
        <thead>
            <tr>
                <th scope="col" class="">Fichier</th>
                <th scope="col" class="">Uploader</th>
                <th scope="col" class="">Date</th>
                <th scope="col" class="">Actions</th>
            </tr>
        </thead>
        {% for fichier in liste_fichiers %}
        <tbody>
            <tr>
                <td class="text-center">{{ fichier.NomFichier }}</td>
                <td class="text-center">{{ fichier.uploadedBy.fullname }}</td>
                <td class="text-center d-none d-md-table-cell">{{ fichier.dateUpload ? fichier.dateUpload|date('d/m/Y') : '-' }}</td>            
                {# <td class="text-center">{{ fichier.dateUpload }}</td> #}
                <td class="text-center">
                    <a href=""><i class="fa fa-cloud-download" aria-hidden="true"></i></a>
                    
                    <form action="{{ path('efface_fichier_', {'projetId': projet.id, 'fichierProjetId': fichier.id}) }}" method="post">
                        <input type="hidden" name="_method" value="DELETE"> 
                        <input type="submit" class="btn btn-danger" value="Supprimer">
                    </form>

                    {# <a href="{{ path('fiche_projet_', {'id': projet.id},'delete_fichier_'), {'id': fichier.id} }}"><i class="fa fa-trash" aria-hidden="true"></i></a> #}
                {# /fiche/projet/{id}/delete/fichier/{id} #}
                </td>
            </tr>
        </tbody>
        {% endfor %}
    </table>
    <div class="text-center mx-auto">
        <a href="{{ path('ajout_fichier_',{'id':projet.id}) }}"> <button class="btn btn-success">Ajouter un fichier <i class="fa fa-cloud-download" style="color: white;" aria-hidden="true"></i></button></a>
    </div>
</div>
{% endblock %}
